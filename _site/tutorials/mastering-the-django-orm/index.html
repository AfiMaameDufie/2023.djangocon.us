<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Mastering the Django ORM | DjangoCon US</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Mastering the Django ORM" />
<meta name="author" content="DjangoCon US" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is a lecture-format tutorial which will cover the Django ORM in depth; it’s designed to be accessible to anyone who’s worked through an introductory Django tutorial, but intermediate and other slightly more experienced users of Django will probably get the most out of it." />
<meta property="og:description" content="This is a lecture-format tutorial which will cover the Django ORM in depth; it’s designed to be accessible to anyone who’s worked through an introductory Django tutorial, but intermediate and other slightly more experienced users of Django will probably get the most out of it." />
<link rel="canonical" href="http://0.0.0.0:8000/tutorials/mastering-the-django-orm/" />
<meta property="og:url" content="http://0.0.0.0:8000/tutorials/mastering-the-django-orm/" />
<meta property="og:site_name" content="DjangoCon US" />
<meta property="og:image" content="http://0.0.0.0:8000/static/img/social/presenters/james-bennett.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-11T13:30:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://0.0.0.0:8000/static/img/social/presenters/james-bennett.png" />
<meta property="twitter:title" content="Mastering the Django ORM" />
<meta name="twitter:site" content="@djangocon" />
<meta name="twitter:creator" content="@DjangoCon US" />
<meta property="fb:app_id" content="280981518972848" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"DjangoCon US"},"dateModified":"2021-10-11T13:30:00-05:00","datePublished":"2021-10-11T13:30:00-05:00","description":"This is a lecture-format tutorial which will cover the Django ORM in depth; it’s designed to be accessible to anyone who’s worked through an introductory Django tutorial, but intermediate and other slightly more experienced users of Django will probably get the most out of it.","headline":"Mastering the Django ORM","image":"http://0.0.0.0:8000/static/img/social/presenters/james-bennett.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:8000/tutorials/mastering-the-django-orm/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:8000/static/img/social/og.png"},"name":"DjangoCon US"},"url":"http://0.0.0.0:8000/tutorials/mastering-the-django-orm/"}</script>
<!-- End Jekyll SEO tag -->



    <link href="https://fonts.googleapis.com/css?family=Karla:400,400i,700|Rubik:400,500&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/main.css">

    <!-- favicon
    ================================================== -->
    <link href="/static/favicons/favicon.ico" rel=icon type="image/x-icon">
    <link href="/static/favicons/favicon.png" rel=icon type="image/png">
    <link href="/static/favicons/apple-touch-icon.png" rel="apple-touch-icon-precomposed">
  </head>
  <body class="session-details-page">
   <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="github-icon" viewBox="0 0 32.58 31.77">
      <path d="M16.29,0a16.29,16.29,0,0,0-5.15,31.75c.81.15,1.11-.35,1.11-.79s0-1.41,0-2.77C7.7,29.18,6.74,26,6.74,26a4.31,4.31,0,0,0-1.81-2.38c-1.48-1,.11-1,.11-1a3.42,3.42,0,0,1,2.5,1.68,3.47,3.47,0,0,0,4.74,1.35,3.48,3.48,0,0,1,1-2.18C9.7,23.08,5.9,21.68,5.9,15.44a6.3,6.3,0,0,1,1.68-4.37,5.86,5.86,0,0,1,.16-4.31s1.37-.44,4.48,1.67a15.44,15.44,0,0,1,8.16,0c3.11-2.11,4.48-1.67,4.48-1.67A5.85,5.85,0,0,1,25,11.07a6.29,6.29,0,0,1,1.67,4.37c0,6.26-3.81,7.63-7.44,8a3.89,3.89,0,0,1,1.11,3c0,2.18,0,3.93,0,4.47s.29.94,1.12.78A16.29,16.29,0,0,0,16.29,0Z"/>
  </symbol>
  <symbol id="twitter-icon" viewBox="0 0 32.804 26.499">
    <path d="M32.804 3.055c-.887 1.28-1.971 2.462-3.35 3.447v.887c0 3.054-.689 6.107-2.167 8.964-1.379 2.856-3.645 5.221-6.601 7.191-2.955 1.97-6.402 2.955-10.343 2.955-3.842 0-7.29-.985-10.344-2.955.296 0 .887.099 1.675.099 3.152 0 5.911-.985 8.373-2.857-1.478 0-2.758-.492-3.94-1.379s-1.97-1.97-2.363-3.349c.196.098.689.098 1.28.098s1.182-.098 1.772-.196c-1.575-.296-2.856-1.084-3.841-2.364-.985-1.281-1.479-2.66-1.479-4.236v-.1c.887.493 1.872.788 2.956.887-1.971-1.379-2.956-3.25-2.956-5.614 0-1.183.296-2.266.887-3.35 3.646 4.433 8.274 6.797 13.89 6.994a5.95 5.95 0 0 1-.197-1.478c0-1.872.69-3.448 1.971-4.729S20.982 0 22.854 0c1.97 0 3.546.69 4.826 2.069 1.379-.296 2.857-.788 4.236-1.576-.493 1.576-1.478 2.758-2.955 3.743 1.38-.296 2.66-.689 3.843-1.181z"/>
  </symbol>
  <symbol id="facebook-icon" viewBox="0 0 42 42">
    <path d="M39.68,0H2.32A2.32,2.32,0,0,0,0,2.32V39.68A2.32,2.32,0,0,0,2.32,42H22.43V25.74H17V19.4h5.47V14.72c0-5.42,3.31-8.38,8.15-8.38a44.91,44.91,0,0,1,4.89.25v5.67H32.12c-2.63,0-3.14,1.25-3.14,3.09v4h6.28l-.82,6.34H29V42h10.7A2.32,2.32,0,0,0,42,39.68V2.32A2.32,2.32,0,0,0,39.68,0Z"/>
  </symbol>
  <symbol id="web-icon" viewBox="0 0 64.5 64.5">
    <path d="M32.2 0C14.5 0 0 14.5 0 32.2 0 50 14.5 64.5 32.2 64.5 50 64.5 64.5 50 64.5 32.2 64.5 14.5 50 0 32.2 0zM57.2 45.3C57.2 45.3 57.2 45.3 57.2 45.3l-6.7 0c1.1-3.6 1.7-7.4 1.9-11.1h8C60.1 38.1 59 41.9 57.2 45.3zM34.4 60.4V49.3H45c-2.1 4.9-4.5 8.5-5.9 10.4C37.6 60 36 60.2 34.4 60.4zM25.5 59.7c-1.4-1.8-3.8-5.4-5.9-10.4h10.8v11.1C28.8 60.3 27.1 60.1 25.5 59.7zM7.3 45.3c-1.8-3.4-2.9-7.2-3.2-11.1h8.1c0.2 3.8 0.8 7.5 1.9 11.1L7.3 45.3C7.3 45.3 7.3 45.3 7.3 45.3zM7.5 18.8C7.5 18.8 7.5 18.8 7.5 18.8l6.7 0c-1.2 3.7-1.8 7.6-2 11.5H4.1C4.4 26.3 5.5 22.4 7.5 18.8zM30.5 4.1v10.8H19.9c1.5-3.3 3.5-6.7 6.1-10.2C27.4 4.4 28.9 4.2 30.5 4.1zM38.7 4.7c2.6 3.5 4.5 6.9 6 10.2H34.4V4.1C35.8 4.3 37.3 4.4 38.7 4.7zM46.2 18.8c1.3 3.7 2 7.6 2.2 11.5h-14V18.8C34.4 18.8 46.2 18.8 46.2 18.8zM30.5 18.8v11.5H16.2c0.2-3.6 0.8-7.5 2.2-11.5H30.5zM16.2 34.2h14.3v11.1H18.2C17 41.7 16.4 38 16.2 34.2zM34.4 45.3V34.2h14c-0.2 3.8-0.9 7.5-2 11.1C46.4 45.3 34.4 45.3 34.4 45.3zM52.4 30.3c-0.1-3.9-0.8-7.7-2-11.5H57c0 0 0 0 0 0 1.9 3.5 3.1 7.5 3.3 11.5C60.4 30.3 52.4 30.3 52.4 30.3zM54.5 14.9h-5.5c-1.1-2.7-2.4-5.3-3.9-7.8C48.7 9 51.9 11.6 54.5 14.9zM19.7 7c-1.6 2.5-2.9 5.2-4 7.9H10C12.6 11.6 15.9 8.9 19.7 7zM9.7 49.3h5.6c1.1 2.8 2.4 5.4 3.9 8C15.5 55.3 12.3 52.6 9.7 49.3zM45.4 57.2c1.5-2.5 2.8-5.2 3.8-7.9h5.5C52.3 52.6 49.1 55.2 45.4 57.2z"/>
  </symbol>
  
</svg>


    <div class="off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>
        <div class="off-canvas position-right" id="offCanvasRight" data-off-canvas data-position="right">
            <ul class="vertical menu drilldown" data-drilldown>
              <li class="is-dropdown-submenu-parent">
  <a href="/about/">About</a>
  <ul class="menu vertical nested">
    <li><a href="/about/">About DjangoCon US</a></li>
    <li><a href="/tickets/">Tickets</a></li>
    <li><a href="/job-board/">Jobs Board</a></li>
    <li><a href="/faq/">FAQ</a></li>
    <li><a href="/conduct/">Code of Conduct</a></li>
    <li><a href="/opportunity-grants/">Opportunity Grants</a></li>
    <li><a href="/why-djangocon-us/">Why DjangoCon US?</a></li>
    <li><a href="/organizers/">Organizers</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/schedule/">Schedule</a>
  <ul class="menu vertical nested">
    <li><a href="/schedule/">Full Schedule</a></li>
    <li><a href="/tutorials/">Tutorials Schedule</a></li>
    <li><a href="/talks/">Talks Schedule</a></li>
    <li><a href="/sprints/">Sprints Schedule</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/venue/">Venue</a>
  <ul class="menu vertical nested">
    <li><a href="/venue/#welcome">Welcome to San Diego!</a></li>
    <li><a href="/venue/#hotel">Staying at San Diego Marriott</a></li>
    <li><a href="/venue/#places">Around San Diego</a></li>
    <li><a href="/venue/#accessibility">Accessibility</a></li>
    <li><a href="/room-sharing/">Room Sharing</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/speaking/">Speaking</a>
  <ul class="menu vertical nested">
    <li><a href="/speaking/">Speaking at DjangoCon US</a></li>
    <li><a href="/speaking/speaker-resources/">Speaker Resources</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/sponsors/">Sponsors</a>
  <ul class="menu vertical nested">
    <li><a href="/sponsors/">Our Sponsors</a></li>
    <li><a href="/sponsors/information/">Become a Sponsor</a></li>
  </ul>
</li>
<li><a href="/news/">News</a></li>

<li>
  <a href="" class="button hollow">
    Buy Tickets
  </a>
</li>

            </ul>
        </div>

        <div class="off-canvas-content" data-off-canvas-content>
          <nav class="title-bar headroom headroom--top">
  <div class="title-bar-left">
      <a class="logo" href="/">
        <img src="/static/img/logo.svg" alt="DjangoCon 2022 | San Diego" />
      </a>
  </div>
  <div class="title-bar-right">
    <ul class="dropdown menu show-for-large" data-dropdown-menu>
      <li class="is-dropdown-submenu-parent">
  <a href="/about/">About</a>
  <ul class="menu vertical nested">
    <li><a href="/about/">About DjangoCon US</a></li>
    <li><a href="/tickets/">Tickets</a></li>
    <li><a href="/job-board/">Jobs Board</a></li>
    <li><a href="/faq/">FAQ</a></li>
    <li><a href="/conduct/">Code of Conduct</a></li>
    <li><a href="/opportunity-grants/">Opportunity Grants</a></li>
    <li><a href="/why-djangocon-us/">Why DjangoCon US?</a></li>
    <li><a href="/organizers/">Organizers</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/schedule/">Schedule</a>
  <ul class="menu vertical nested">
    <li><a href="/schedule/">Full Schedule</a></li>
    <li><a href="/tutorials/">Tutorials Schedule</a></li>
    <li><a href="/talks/">Talks Schedule</a></li>
    <li><a href="/sprints/">Sprints Schedule</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/venue/">Venue</a>
  <ul class="menu vertical nested">
    <li><a href="/venue/#welcome">Welcome to San Diego!</a></li>
    <li><a href="/venue/#hotel">Staying at San Diego Marriott</a></li>
    <li><a href="/venue/#places">Around San Diego</a></li>
    <li><a href="/venue/#accessibility">Accessibility</a></li>
    <li><a href="/room-sharing/">Room Sharing</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/speaking/">Speaking</a>
  <ul class="menu vertical nested">
    <li><a href="/speaking/">Speaking at DjangoCon US</a></li>
    <li><a href="/speaking/speaker-resources/">Speaker Resources</a></li>
  </ul>
</li>
<li class="is-dropdown-submenu-parent">
  <a href="/sponsors/">Sponsors</a>
  <ul class="menu vertical nested">
    <li><a href="/sponsors/">Our Sponsors</a></li>
    <li><a href="/sponsors/information/">Become a Sponsor</a></li>
  </ul>
</li>
<li><a href="/news/">News</a></li>

<li>
  <a href="" class="button hollow">
    Buy Tickets
  </a>
</li>

    </ul>
    <button
      class="hamburger hamburger--spin hide-for-large" type="button" data-toggle="offCanvasRight"
      aria-hidden="true"
      aria-label="A button that open and closes site navigation">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>

  </div>
</nav>


          <header class="subpage-header">
  <h1>
    Mastering the Django ORM
  </h1>
  <p class="lead">
    Monday  1:30 pm to  5:00 pm,
    in Balboa I & II
    
      <br>
      <span
        class="label"
        aria-label="Audience level:">Intermediate</span>
    
  </p>
</header>

<div class="content subpage-content">
  <div class="row">
    <div class="column medium-10 medium-centered" markdown="1">
      

      

      <h2 style="text-transform:capitalize;">About This
        
              Tutorial
            
      </h2>
      <p>This is a lecture-format tutorial which will cover the Django ORM in
depth; it’s designed to be accessible to anyone who’s worked through
an introductory Django tutorial, but intermediate and other slightly
more experienced users of Django will probably get the most out of it.</p>

<p>The material breaks down roughly as follows.</p>

<p>Fundamentals: exploring the concept of ORMs in general, arguments for
and against their use, including both known advantages – like safer,
more portable and less tedious code for common query patterns – and
known shortcomings such as the infamous “object-relational impedance
mismatch”. From there, a look at the two major patterns of ORM design,
Data Mapper and Active Record, and a brief study of the history of
Django’s ORM, including the high-level design choices which have gone
into it.</p>

<p>A basic tour of the ORM: this material may be remedial for some
attendees, but will re-introduce the major developer-facing components
of the Django ORM and their purposes, to ensure familiarity for later
sections.</p>

<p>Going beyond the basics, part 1: best practices for model design and
layout. Topics covered here will include: normal forms and the
advantages/disadvantages of various types of normalization; models and
their managers as the primary place to put “business logic” and as the
main public API of a Django application; using custom field types for
richer data modeling and validation; patterns for common model-design
issues like handling choices/enums; discussion of the various model
inheritance options supported in the Django ORM and their pros/cons;
understanding the migration framework and what can be done with
hand-written migrations; and custom user models.</p>

<p>Going beyond the basics, part 2: intermediate and advanced features
and patterns for working with your database. This will begin with an
exploration of some common querying pitfalls and how to prevent them,
and proceed from there into topics such as: performance optimization
through controlling exactly what Django will query for, including how
to skip loading entire result sets and instantiating all their model
objects; working with Q and F objects to build more complex queries;
annotation and aggregation patterns; the query expression API and how
to write custom expression and function wrappers to push functionality
out of Python code and into your database; using and wrapping
database-level views from the ORM; understanding and controlling
transaction behavior; and implementing and taking advantage of
advanced/custom indexes and constraints. This section will end with a
tour of the “danger zone”: features of the ORM which often are more
trouble than they’re worth, and how the previously-covered material
suggests alternatives or replacements for them.</p>

<p>Under the hood: a deep technical dive into the internals of the
ORM. The original high-level tour of the ORM’s components will be
revisited, this time delving into how each component is
implemented. This section will cover the model metaclass and model
introspection API; the base Manager and QuerySet classes and their
relationships to each other; the structure of the underlying Query
object and useful methods on it; SQL compilers and how they process
and transform a Query; and the structure of Django’s database backend
modules. Finally, this section and the main tutorial will conclude
with a full walkthrough of a query, starting from the model class and
tracing it all the way “down” the stack through each component, into
the database, and then back “up” the ORM’s component stack to the
resulting QuerySet of model instances.</p>

<p>Time remaining past this point will be used for Q&amp;A, but attendees
will also be encouraged to ask questions throughout the entire
session, including dedicated question breaks at the end of each
section.</p>


      

    </div>
  </div><!-- end .row -->



<div class="presenters section-pad theme-light-gray">
  <div class="row">
    <div class="column medium-10 medium-offset-1"><h2>Presenters</h2></div>
  </div>

<ul>
  
    
    <div class="row profile wide presenter">
      <div class="column medium-4 medium-offset-1 large-3">
        
          <img
            class="thumbnail"
            src="/static/img/speakers/james-bennett.jpg"
            alt="Photo of " />
        
      </div>

      <div class="column medium-7 large-7 end">
        <h3 class="profile-name">
          James Bennett
          
        </h3>

        
          <ul class="social-icons">
            
            <li>
              <a class="twitter" href="https://twitter.com/ubernostrum" target="_blank">
                <svg class="twitter-icon"><use xlink:href="#twitter-icon"></use></svg>
              </a>
            </li>
            
            
            
            <li>
              <a class="web" href="http://www.b-list.org/" target="_blank">
                <svg class="social-icon"><use xlink:href="#web-icon"></use></svg>
              </a>
            </li>
            
          </ul>
        

        
          <p>James is a philosopher turned web geek who fell in love with Django very early on. He picked up a commit bit while working at the Lawrence Journal-World and was Django’s release manager for several years. Now he serves on Django’s security team and the board of directors of the Django Software Foundation, and occasionally rants about interviewing and other issues in the culture of the tech community. He thinks you should be using Python 3.</p>

        
      </div>
    </div>
  
</div>




</div><!-- end .content -->


          <footer class="footer" role="contentinfo">

  <a
    class="footer-logo"
    href="http://0.0.0.0:8000" aria-hidden="true">
    <img src="/static/img/submark.svg"
    alt="DjangoCon 2022 | San Diego" />
  </a>

  <div class="row column">
    <ul class="social-icons">
      <li>
        <a class="twitter" href="https://twitter.com/djangocon">
          <svg class="social-icon">
            <title>Twitter</title>
            <use xlink:href="#twitter-icon"></use>
          </svg>
        </a>
      </li>
      <li>
        <a class="github" href="https://github.com/djangocon/">
          <svg class="social-icon">
            <title>Github</title>
            <use xlink:href="#github-icon"></use>
          </svg>
        </a>
      </li>
      <li>
        <a class="facebook" href="https://www.facebook.com/djangoconus/">
          <svg class="social-icon">
            <title>Facebook</title>
            <use xlink:href="#facebook-icon"></use>
          </svg>
        </a>
      </li>
    </ul>

    <p class="text-center">
      <strong>
      Got questions? We can help:
        <a
          href="mailto:hello@djangocon.us">hello@djangocon.us</a>
      </strong>
    </p>

    <small class="legal text-center">
      &copy; 2022 DjangoCon US
      &middot; Design by <a href="http://yupgup.com/">YupGup</a>
      &middot; Presented by <a href="https://www.defna.org/">DEFNA</a>
      &middot; <a href="/colophon/">Colophon</a>
    </small>
  </div>
</footer>

        </div><!-- end .off-canvas-content -->
      </div><!-- end .off-canvas-wrapper-inner -->
    </div><!-- end .off-canvas-wrapper -->



    <!-- Loading JavaScripts
    ================================================== -->
    <script src="/static/main.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-93279021-12"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-93279021-12');
</script>

  </body>
</html>
